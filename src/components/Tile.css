.tile {
  aspect-ratio: 1;
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  will-change: transform, opacity;
  touch-action: manipulation;
}

.tile--empty {
  visibility: hidden;
}

/* Idle */
.tile--idle {
  transform: scale(1);
  opacity: 1;
}

/* Selected pulse */
.tile--selected {
  animation: tile-pulse 800ms ease-in-out infinite;
}

@keyframes tile-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}

/* Popping — "Bazinga Pop" */
.tile--popping {
  animation: bazinga-pop 280ms ease-out forwards;
  pointer-events: none;
}

@keyframes bazinga-pop {
  0%   { transform: scale(1);    opacity: 1; }
  20%  { transform: scale(0.92); opacity: 1; }
  50%  { transform: scale(1.12); opacity: 0.8; }
  100% { transform: scale(0);    opacity: 0; }
}

/* Dropping — gravity */
.tile--dropping {
  animation: tile-drop 200ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes tile-drop {
  0%   { transform: translateY(-100%); opacity: 0.7; }
  100% { transform: translateY(0);     opacity: 1; }
}

/* Entering — new tile from top */
.tile--entering {
  animation: tile-enter 200ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes tile-enter {
  0%   { transform: scale(0.3) translateY(-50%); opacity: 0; }
  100% { transform: scale(1) translateY(0);      opacity: 1; }
}

/* Shaking — invalid swap */
.tile--shaking {
  animation: tile-shake 300ms ease-in-out;
}

@keyframes tile-shake {
  0%, 100% { transform: translateX(0); }
  20%      { transform: translateX(-6px); }
  40%      { transform: translateX(6px); }
  60%      { transform: translateX(-4px); }
  80%      { transform: translateX(4px); }
}
